# Тестовое задание: Каталог фильмов (Социал Саян)

Простой SPA-каталог, который позволяет пользователю искать фильмы через OMDb API и TMDB API, просматривать их ключевые данные, добавлять в избранное и просматривать детали. Реализовано в рамках тестового задания для Middle Frontend (Next.js) разработчика.

## Особенности

### Обязательная часть:

- Поиск фильмов по названию (реактивный, с debounce эффектом, минимум 3 символа для запроса) через OMDb API.
- Отображение результатов в виде адаптивной сетки карточек фильмов:
  - Для всех карточек: Обложка, Название, Год выпуска, Тип.
  - Для карточек популярных фильмов на главной странице (загружаемых при старте): Короткое описание (Plot) и IMDb-рейтинг.
- Плейсхолдер для отсутствующих обложек фильмов.
- Обработка состояний: индикатор загрузки (спиннер), сообщения "Ничего не найдено", "Введите минимум 3 символа для поиска", ошибки API.
- Адаптивный дизайн, корректно отображающийся на мобильных, планшетах и десктопах.
- Использование ISR (Инкрементальная Статическая Регенерация) для первоначальной загрузки списка популярных фильмов на главной странице.
- Динамические мета-данные (title, description) для главной страницы и страниц с детальной информацией о фильмах для улучшения SEO.

### Опциональные "фишки" (реализованы все):

- **Бесконечный скролл** для подгрузки результатов поиска.
- **Детальная страница фильма** с расширенной информацией (сюжет, режиссер, актеры, рейтинги и т.д.), реализованная как серверный компонент.
- **Кэширование API запросов** с помощью React Query (`@tanstack/react-query`) для оптимизации и управления состоянием сервера.
- **Система избранного / «Закладки»**:
  - Возможность добавлять и удалять фильмы из избранного.
  - Хранение выбора пользователя в `localStorage`.
  - Отдельная страница для просмотра избранных фильмов.
- **Адаптивные темы оформления**: Светлая и темная темы, с возможностью переключения и учетом системных настроек (реализовано с помощью `next-themes` и Shadcn/UI).

## Технологический стек

- **Next.js (v15 App Router)**
- **React (v19)**
- **TypeScript**
- **Tailwind CSS (v4)** Рабта со стилями
- **Shadcn/UI** ui-компоненты
- **React Query (v5)**
- **Lucide React:** Icons
- **`next-themes`:** Для реализации темы

## Особенности реализации: Получение списка популярных фильмов

**Проблема:** OMDb API, используемый для основного поиска и получения деталей фильмов, не предоставляет прямого эндпоинта для получения списка "популярных" или "топовых" фильмов. Однако, отображение такого списка при начальной загрузке страницы было частью задания, с рекомендацией использовать SSR или ISR.

**Решение:**
Для реализации этой функциональности была применена комбинация двух API:

1.  **The Movie Database (TMDB) API:** Используется для получения списка актуальных популярных фильмов. У TMDB есть эндпоинт (`/movie/popular`), который возвращает такой список. Из ответа TMDB извлекаются IMDb ID этих фильмов.
2.  **OMDb API:** После получения IMDb ID из TMDB, для каждого ID делается запрос к OMDb API для получения полной и детальной информации о фильме (включая постер, короткий сюжет, IMDb-рейтинг и другие данные, которые используются в приложении).

**Итог:**

- Позволяет отображать **динамически обновляемый список популярных фильмов** при каждой ревалидации страницы (Каждые 12 часов).
- Решение выглядит костыльным, так оно и есть. Но это было лучшее решение для демеонстрации ISR с 'Тяжелой логикой на сервере'

## Начало работы

### Установка:

1.  Клонируйте репозиторий:
    ```bash
    git clone <URL_вашего_репозитория>
    ```
2.  Перейдите в директорию проекта:
    ```bash
    cd <название_папки_проекта>
    ```
3.  Установите зависимости:
    ```bash
    npm install
    ```

### Конфигурация API ключей:

1.  Создайте файл `.env.local` в корневой директории проекта.
2.  Добавьте в него ваши API ключи:
    ```env
    NEXT_PUBLIC_OMDB_API_KEY=ВАШ_КЛЮЧ_OMDB
    NEXT_PUBLIC_TMDB_API_KEY=ВАШ_КЛЮЧ_TMDB_V3_AUTH
    ```
    - **OMDb API ключ** [http://www.omdbapi.com/apikey.aspx](http://www.omdbapi.com/apikey.aspx)
    - **TMDB API ключ (v3 auth)** [https://www.themoviedb.org/](https://www.themoviedb.org/)
